# React-Next.js, React Native, Naver Maps API

작성자: 1891144 - 김민규

+ React 소개
+ React의 장단점 및 주요 기능
+ Next.js 소개
+ Next.js의 특징 및 주요 기능
+ React Native 소개
+ React Native의 장단점 및 주요 기능
+ React-Next.js, React Native로 나타나는 서비스 화면 형태
+ 다른 오픈소스와의 연계
+ Naver Maps API 소개
+ Naver Maps API의 장단점 및 주요 기능
+ Naver Maps API를 선택한 이유
+ 라이선스 정보
+ 참조

#### React 소개

React혹은 React.js는 **컴포넌트를 기반으로 한** 유저 인터페이스를 생성하는 **프리 오픈소스 자바스크립트 라이브러리**로 메타(페이스북)에서 관리하고 있습니다.

#### React의 장단점 및 주요 기능

✔ **GOOD!**

1. UI를 컴포넌트라는 작은 단위로 구분하여 사용자의 목적에 맞는 높은 재사용성을 확보합니다.
2. 선언적 프로그래밍을 통하여 프로그램의 절차에 집중하는 명령적 프로그래밍과는 달리 달성해야 하는 결과에 집중합니다. 이는 코드를 예측 가능하게 하고 디버깅을 보다 쉽게 합니다.
3. 브라우저가 html을 전달받아 파싱하는 과정에서 DOM이라는 렌더 트리가 형성됩니다. 모든 렌더링 과정에 이러한 실제 DOM이 조작되면 성능의 저하가 일어날 수 있습니다. React는 가상 DOM을 사용하여 변동 사항만 실제 DOM에 적용함으로서 실제 DOM이 작동되는 경우를 줄여 렌더링 성능이 저하되는 것을 막아줍니다.
4. 양뱡향 데이터 바인딩은 UI와 데이터 상호간의 변화가 가능하여 사용자가 동기화에 대하여 신경 쓰지 않고 프로그래밍 할 수 있지만 성능 저하가 발생합니다. 반면 React는 단방향 데이터 바인딩을 사용하여 데이터에서 UI를 갱신하도록 하고 UI에서 데이터를 갱신할 때는 이벤트 처리를 통해 하도록 설계되었습니다. 이로 인하여 성능의 이점을 얻습니다.

❌ **Bad...**

1. React는 Vue.js, Angular 등과 같은 프레임워크가 아닌 라이브러리 입니다. 따라서 React 자체만으로 전역 상태 관리, 라우팅, 빌드 시스템 등을 지원하지 않습니다. 때문에 이러한 기능들을 사용하기 위하여 추가적인 라이브러리를 붙여야 합니다. 이는 사용자로 하여금 필요한 부분만 가져다 쓸 수 있다는 점에서 장점이 되기도 하지만 React에 대한 진입 장벽을 높이는 원인이기도 합니다.
2. React는 jsx(JavaScript XML) 형태로 코드를 작성하는데 자바스크립트만을 사용해 UI 로직과 DOM을 구현합니다. 이는 작성에 있어 높은 자유도를 보장하지만 코드 가시성의 하락으로 이어질 수 있습니다.

#### Next.js 소개

앞서 설명하였듯이 React는 프론트엔드 프레임워크가 아닌 라이브러리로서 UI라는 작은 영역을 담당합니다. 이로 인하여 비교되는 다른 프론트엔드 프레임워크가 지원하는 기능들을 갖추기 위해서 추가적인 라이브러리와 결합하는 것을 필요로 합니다. (ex: React-Redux, React-Router) Next.js는 React로 만들어진 **프론트엔드 웹 프레임워크**로서 **추가적인 강력한 기능들**을 제공합니다.

#### Next.js의 특징 및 주요 기능

1. 기존 React는 CSR(클라이언트 사이드 렌더링) 방식만을 지원합니다. CSR은 클라이언트(브라우저)에서 웹 서버로부터 html, js, css등 각종 자원을 받아 처음 1회의 렌더링을 하고 이후 변경된 부분에 있어서 서버에 요청하여 JSON파일을 받아오는 방식입니다. 이는 트래픽을 감소시키고 서버의 부담을 줄이는 장점을 가지지만 초기 로딩 속도가 느려지는 단점을 가지고 있습니다. 반면 Next.js는 SSR(서버 사이드 렌더링)을 지원합니다. SSR은 서버에서 모든 렌더링을 마치고 클라이언트로 데이터를 보내주도록 합니다. 이를 통하여 초기 로딩 속도를 개선할 수 있고 이는 각 사용자별로 혹은 시기 별로 다른 정보를 추천해줘야 하는 본 서비스에 적합합니다. 추가적으로 CSR은 클라이언트가 자바스크립트를 실행시켜야 페이지의 전체 view가 나타나기에 자바스크립트를 읽지 못하는 웹 크롤러가 html만을 읽어 SEO(검색 엔진 최적화)가 힘들어집니다. 반면 SSR은 서버에서 미리 렌더링 하여 데이터를 보내므로 전체 view를 검색 엔진(네이버, 구글)의 웹 크롤러가 읽기 수월해지므로 검색 엔진이 쉽게 발견하도록 하여 들어오는 트래픽의 양과 질이 높아지는 이득을 꾀할 수 있습니다. 이는 Next.js가 가지는 대표적인 장점입니다.
2. 이외에 폴더, 파일의 자동 라우팅 기능(Automatic Routing), 리소스를 분석하여 꼭 필요로 하는 js파일을 우선적으로 보내는 기능(Automatic Code Splitting)이 있습니다.

#### React Native 소개

모바일 앱의 성능과 안정성을 향상시키기 위해선 ios와 안드로이드 각각의 플랫폼에서 제공하는 개발 환경에 따라 설계하는 것이 최선이지만 초기 사업 과정에서 서비스를 배포 및 유지 보수에 있어 상당한 비용이 소모될 수 있습니다. 이를 개선하기 위하여 ios와 안드로이드 모두에 사용할 수 있는 **크로스플랫폼 프레임워크**가 등장하였고 React Native는 이러한 프레임워크 중 하나입니다.

#### React Native의 장단점 및 주요 기능

✔ **GOOD!**

1. 코드 푸쉬 사용이 용이합니다. React Native는 프로그램의 이면에서 돌아가고 있는 비즈니스 로직, 사용자에게 비춰지는 부분인 view 로직을 모두 자바스크립트 하나로 작성합니다. 그리고 이를 앱스토어나 플레이스토어에 배포하기 위한 바이너리 안에 자바스크립트 번들을 포함시키는 구조를 가지고 있습니다. 앱스토어나 플레이스토어는 정책상 앱에 포함되어 있는 자바스크립트 구조를 동적으로 변경하는 것을 허용하고 있습니다. 이는 앱 업데이트 없이 앱의 내용을 변경할 수 있도록 하여 유저들이 굳이 업데이트를 하지 않아도 서비스를 일정하게 유지하도록 해줍니다.
2. React와 일부 html, css관련 문법을 제외하고 완전히 동일하게 사용할 수 있습니다. 이는 React 스택에서 추가 적용하는데 드는 러닝 커브를 상당부분 줄여줍니다.

❌ **Bad...**

1. 공식 라이브러리 생태계가 빈약합니다. 예를 들어 React Native는 화면의 전환을 담당하는 Navigation 라이브러리를 공식적으로 지원하고 있지 않습니다. 단 하나의 화면만 가지고 있는 앱을 제작하지 않는 점에서 이러한 부분을 공식적으로 제공하지 않는다는 점은 아쉬운 부분입니다.

#### React-Next.js, React Native로 나타나는 서비스 화면 형태

본 서비스는 웹은 React-Next.js, 앱은 네이티브 부분은 React Native로 설계한 후 웹뷰를 통해 작동되도록 하는 하이브리드 앱으로 구상하였습니다. 앱, 웹을 통틀어 유저가 처음 접속하여 보게 되는 메인 화면은 검색창과 밑에 접속 시에 가장 많이 태그되고 있는 키워드 순으로 워드 클라우드가 형성된 모습을 구상하였습니다. 이를 통하여 유저로 하여금 현재 가장 핫한 키워드 순으로 장소를 보여줄 수 있도록 하였습니다. 여기서 검색창을 클릭하였을 시 화면이 전환되어 Naver Maps API를 통한 지도와 각 장소에 카테고리에 맞는 검색 옵션을 조정할 수 있는 부분이 출력됩니다. 장소를 검색 시에 그 장소와 그 주위 다른 장소에 대한 마커가 표현되어 있는데 특정 마커를 클릭하거나 터치할 시 `장소명`, `주소`, `해당 장소의 URL`, `사건 사고 키워드`, `해결책에 대한 URL`, `리뷰 정보`, `즐겨 찾기`가 출력되어 특정 장소에 대한 정보를 알 수 있도록 하고 로그인한 유저는 즐겨 찾기를 통해 관심있는 장소를 저장하여 쉽게 그 장소에 대한 정보를 파악하도록 구성하였습니다.

#### 다른 오픈소스와의 연계

#### 1. Django와의 연계

React와 Django간의 Rest API 서버를 통하여 통신합니다. 데이터의 전달은 크게 이러한 부분으로 구성됩니다.

* 유저 정보의 전달

로그인 시 Django에 유저 정보를 호출하고 유저 정보 데이터를 받습니다. 회원가입 시 생성된 유저 정보를 Django로 전달합니다.

* 장소 정보의 전달

위에 서술된 장소명, 주소, URL, 리뷰 정보 등을 호출하여 데이터를 받아와 각 장소에 맞는 페이지를 렌더링하여 사용자에게 보여줍니다.

#### 2. Naver Map API와의 연계

Django로부터 받아온 장소 정보는 Naver Map API로도 연결됩니다. 받아온 주소 정보를 Geocoder 서브 모듈의 Service 객체를 사용하여 좌표값을 추출합니다. 이를 입력하여 마커를 생성하고 마커를 클릭하거나 터치할 경우 해당 마커의 정보창이 표시되어 `장소명`, `주소`, `해당 장소의 URL`, `사건 사고 키워드`, `해결책에 대한 URL`, `리뷰 정보`, `즐겨 찾기`가 출력됩니다.

#### 3. Elastic Search, Kospeech와의 연계

API 키값을 연계하면 Elastic Search 자체에서 지원하는 UI를 사용할 수 있습니다. 이를 통해 Elastic Search에 저장되어 있는 데이터 테이블을 출력하여 이용할 수 있습니다. 또한 react-speech-kit을 통하여 얻은 음성인식 데이터를 kospeech에 전달하여 음성인식을 통한 검색을 도모할 수 있습니다.

#### 4. reCATCHA와의 연계

회원가입 시 봇을 판별하기 위해 쓰입니다. reCAPTCHA에서 사용자가 전달한 토큰을 미리 발급받은 비밀 키값과 함께 구글 api에 검증 요청을 하고 검증 결과를 JSON으로 반환 받아 처리합니다.

#### Naver Maps API 소개

네이버 지도를 활용하여 지도 관련 웹 서비스나 애플리케이션에 간단한 약도부터 유명 관광지 표시 등 다양한 정보를 표시할 수 있는 API 서비스 입니다.

#### Naver Maps API의 장단점 및 주요 기능

✔ **GOOD!**

1. 데스크탑과 모바일 환경 모두 부드러운 화면 인터렉션을 제공합니다.
2. 360도 파노라마 뷰를 제공합니다.
3. 교통상황, 마커&인포윈도우, 데이터레이어 등 다양한 표현을 지원합니다.
4. 다양한 웹 브라우저에 대한 호환성이 있습니다.

❌ **Bad...**
1. 이용 한도에 따라 요금을 청구하는 유료 서비스 입니다.

#### Naver Maps API를 선택한 이유

본 서비스에서 지도에 요구하는 기능은 크게 **장소명, 주소에 대한 검색기능**, 특정 장소에 대한 **마커 표시 기능**, 특정 장소의 마커를 클릭 혹은 터치 하였을 때 **이벤트 창 출력 기능**입니다. 처음에는 OpenLayers라는 OpenStreetMap 기반의 오픈소스 지도 라이브러리를 염두하였습니다. 그러나 OpenLayers는 한국 지리에 대한 정보가 상대적으로 빈약하고 자체적인 검색 기능을 가지고 있지 않다는 단점을 가지고 있었습니다. 이러한 부분은 장소를 나타내고 추천해야 하는 본 서비스에 다소 치명적인 부분이라고 판단하여 한국 지리에 대한 다양한 정보를 제공하고 가장 많은 사람들이 이용하는 지도 서비스이기에 상대적으로 친숙한 Naver Maps API를 선택하였습니다.

#### 라이선스 정보

React, Next.js, React Native 모두 MIT 라이선스에 기반하고 있습니다. 본 라이선스는 소프트웨어의 사용, 복제, 변경, 통합, 발행, 배포, 재실시, 판매에 대한 제약을 포함한 어떠한 제약 없이 본 소프트웨어를 취급할 수 있으며, 이는 제3자에 대한 소프트웨어 지급시에도 동일하게 적용됩니다. 단 라이선스 표시를 소프트웨어 및 모든 복제품에 표시해야 하며 소프트웨어와 관련한 어떤 법적 책임을 지지 않습니다.

#### 참조

React 공식 한국어 홈페이지 https://ko.reactjs.org/
Vue vs React in 2022 - Comparison of Two Most Popular JS Frameworks https://www.monterail.com/blog/vue-vs-react
React vs Vue: The Core Similarities and Differences https://mentormate.com/blog/react-vs-vue-the-core-differences/
코린이 형준: 프로젝트(1)프론트, 백엔드 통신 방법(feat.django, react) https://leeceo97.tistory.com/54

Next.js 공식 홈페이지 https://nextjs.org/
빠리의 택시 운전사: React 개발이 이렇게 쉬웠나? (Feat. Next.js) https://geonlee.tistory.com/229
ivorycode: Next.js를 사용하는 이유 https://ivorycode.tistory.com/entry/Nextjs%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EB%8A%94-%EC%9D%B4%EC%9C%A0

React Native 공식 홈페이지 https://reactnative.dev/
토스ㅣSLASH 22 - 미친 생산성을 위한 React Native https://www.youtube.com/watch?v=b_6CjuvVg8o

Naver Cloud의 Naver Maps API 상품 페이지 https://www.ncloud.com/product/applicationService/maps
Naver Maps API v3 공식 홈페이지 https://navermaps.github.io/maps.js/

MIT 라이선스 위키백과 https://ko.wikipedia.org/wiki/MIT_%ED%97%88%EA%B0%80%EC%84%9C
